Agents

Whilst the Enterprise Search and summarisation features alone offer significant value to an organisation through improved workforce efficiency, increased productivity and the associated cost savings, Agentspace becomes an incredibly powerful tool when you start to factor in agents. 
Agents in Agentspace are specialised AI assistants designed to perform complex, multi-step tasks or automate entire business processes, often combining information retrieval with reasoning and actions.

While the Enterprise Search and summarisation features in Agentspace deliver significant value to an organisation through enhanced workforce efficiency and productivity (and the associated cost savings), the platform unlocks its transformative potential with the introduction of agents. These are specialised AI assistants engineered to move beyond simple information access towards active task execution and workflow automation. Agents excel at tackling complex, multi-step challenges, orchestrating actions, and integrating capabilities across various enterprise systems. They achieve this by combining information retrieval with advanced reasoning and the ability to execute defined actions, effectively automating entire processes, driving deeper efficiency gains and enabling new levels of operational capability.

Out of the box, Agentspace features Google’s DeepResearch agent, designed to perform comprehensive analysis on a given topic. Its 'deep analysis' involves synthesising information from diverse datasources sources ( including configured enterprise data sources and the public web) to generate novel insights and structured understanding that go beyond simple keyword searches. A defining characteristic of the DeepResearch agent is its emphasis on user control for complex tasks: it first presents a detailed research plan outlining its intended steps, potential sources, and expected lines of inquiry. The user reviews and approves this plan before the agent proceeds with the execution. This human-in-the-loop (HITL) mechanism ensures the research aligns with the users intent and allows for oversight before extensive processing occurs. Upon approval, the agent executes the plan returning a detailed, structured report of its findings. 

<insert image of DeepResearch agent> 

Whilst DeepResearch appears to be the only Google provided agent OotB, the UI is setup to cater for more Agents with sections for Google Agents, From Your Organisations, and Your Agents.

<insert screenshot of ui>

Custom Agents

Custom agents offer maximum value to enterprises by allowing the tailoring of AI capabilities to specific business needs and processes. It's likely that many unique organisational workflows will require custom agents to effectively handle their specific nuances. These agents are powerful because they are grounded in your enterprise data sources and leverage company-specific tools and actions alongside their core reasoning abilities to achieve defined goals.

Creating a custom agent typically involves these key steps:

Define the Goal/Instructions: This involves clearly articulating the agent's objective in natural language. Effective agent creation relies on principles similar to prompt engineering- instructions must be specific, unambiguous, and provide sufficient context for the task. Don't expect to get this perfect on the first try; defining the goal is often an iterative process, refined through testing and observing the agent's behaviour in response to the instructions (meta-prompting can be a useful and efficient technique for iterating on the instructions!).

Configure Available Tools/Actions: Specify the capabilities the agent can leverage to interact with the outside world or perform specific functions. This goes beyond just invoking predefined 'Actions' within Agentspace. You can grant the agent access to a variety of tools, such as calling external REST APIs, triggering Cloud Functions, utilising specialised Vertex AI Tools (like Search, or language processing tools), interacting with databases via configured connectors, or executing other custom-built functions. Under the hood, this relies on the underlying Large Language Model's ability for tool use or function calling – intelligently determining when to use a specific tool and generating the correct parameters based on the ongoing conversation and its ultimate goal.

Link Data Sources for Grounding: Connect the agent to relevant enterprise knowledge using the Connectors you've configured (as discussed in the previous post on Connectors and Datasources [Optional: Hyperlink to previous post here]). This step is crucial for grounding the agent, ensuring its responses, reasoning, and actions are based on factual, up-to-date company information rather than solely relying on the LLM's general pretrained knowledge. This effectively leverages the principles of Retrieval-Augmented Generation (RAG), providing specific, timely context pulled from your data sources to inform the agent's task execution.

Once created, interaction with custom agents occurs within the unified Agentspace UI, where they appear alongside other features, often under a dedicated menu section. Users engage with the agent using natural conversation through the chat interface to initiate tasks and receive assistance.

Agent Reasoning and Orchestration

Beyond simply executing individual commands based on their instructions and tools, a core strength of Agentspace agents lies in their reasoning and orchestration capabilities. When presented with a complex goal, agents don't just perform a single action. Instead, powered by their underlying Large Language Model, they intelligently break down the request into smaller, logical steps. Many agents employ methodologies conceptually similar to ReAct (Reason + Act), where they internally 'think' about the current state and goal, decide on the next best action (like using a tool or querying data), execute that action, observe the outcome, and then repeat the reasoning process to determine the subsequent step.

This iterative cycle of reasoning, acting, and observing allows agents to dynamically navigate complex, multi-step workflows. The explicit 'plan' presented for approval by the DeepResearch agent is a visible example of this sophisticated planning capability in action, providing transparency for intricate tasks. Custom agents utilize similar, though often internal and implicit, reasoning processes to orchestrate the sequence of operations needed to achieve their specific objectives – whether that involves gathering information from multiple sources, making sequential decisions based on evolving data, or interacting with several different systems to complete a task like processing an expense claim (as detailed in the example below).

Agent Security
Security is paramount when custom agents interact with other systems, and Agentspace provides flexibility to handle different scenarios. For agents performing tasks initiated directly by a user, like the expense claim example, the platform typically operates under the delegated authority of the logged-in user. This user-centric approach leverages the user's authenticated session with the target expense system, ensuring the agent inherently respects that individual's permissions and limits within the target application, and allows actions to be clearly audited back to the initiating user.

Alternatively, for background processes, scheduled automations, or system-level integrations not triggered by an immediate user action, agents can be configured to utilize dedicated service accounts. These service accounts operate with their own specific IAM permissions, granted independently and carefully managed according to the principle of least privilege.

Choosing the right approach—user delegation for interactive tasks, service accounts for automated ones—is key. In both scenarios, adhering strictly to the principle of least privilege is fundamental. Furthermore, any specific credentials needed for tools or APIs called by the agent should integrate with secure stores like Google Secret Manager to ensure proper handling and avoid insecure exposure."

OLD Agent Security START
Security is paramount when custom agents interact with other systems. For agents performing tasks initiated directly by a user, like the expense claim example, Agentspace typically operates under the delegated authority of the logged-in user. This means when the agent submits the expense data, it leverages the user's authenticated session with the target expense system. This user-centric approach ensures the agent inherently respects that individual's permissions and limits within the target application, and actions can be clearly audited back to the initiating user. Any specific credentials needed for tools or APIs called by the agent should integrate with secure stores like Google Secret Manager.
Same as previous but updated to include SA option
Security is paramount when custom agents interact with other systems, and Agentspace provides flexibility to handle different scenarios. For agents performing tasks initiated directly by a user, like the expense claim example, the platform typically operates under the delegated authority of the logged-in user. This user-centric approach leverages the user's authenticated session with the target expense system, ensuring the agent inherently respects that individual's permissions and limits within the target application, and allows actions to be clearly audited back to the initiating user. 
Alternatively, for background processes, scheduled automations, or system-level integrations not triggered by an immediate user action, agents can be configured to utilize dedicated service accounts. These service accounts operate with their own specific IAM permissions, granted independently and carefully managed according to the principle of least privilege. Regardless of whether user delegation or a service account is used, any specific credentials needed for tools or APIs called by the agent should integrate with secure stores like Google Secret Manager to ensure proper handling.
OLD Agent Security END

Agent Example Use Case
An example agent I have been developing involves simplifying expense claim submissions.
Depending upon the system and the users experience submitting expenses claims, this can be a time-consuming and challenging process. For users that don’t frequently submit expenses, they need to find documentation or a colleague to guide them through the process (something that could be done via Enterprise Search in Agentspace with a simple KB article etc.). Once they have identified the system, they then need to authenticate and then navigate the UI submitting and classifying the expense claim.
With a custom agent, this process can be simplified and managed from within Agentspace UI. The user uploads an image of a receipt they want to claim expenses for to the Expenses agent. The agent detects the image as a receipt, extracts the date, items and cost of the items which are then used to classify the expense type. Provided the expense aligns with the defined expense policy, the agent then submits the extracted data alongside additional information it knows about the user e.g. name, email address, and prompts the user to validate the detected information is correct, and add any missing mandatory data not stored within the user profile or receipt e.g. cost centers. The agent then transfers the data to JSON, prior to submitting the expense request to the corresponding system. The agent then emails confirmation of the expense claim to the user, providing a record of the transaction alongside links to documentation for expense FAQs.
This provides a better customer experience for the person submitting the expense claim, improves efficiency as the entire process is managed and guided by the agent who is available 24/7, and caters for validation and correct submission of expense claims reducing the likely hood of user error due to inexperience.


